language: php

matrix:
  include:
    - php: 5.5
      env: DB=mysqli
    - php: 5.6
      env: DB=mysqli
    - php: 7
      env: DB=mysqli
  fast_finish: true

install:
    - ./Build/tests/travis-ci/setup-server.sh $DB $TRAVIS_PHP_VERSION
    - export PATH="$HOME/.composer/vendor/bin:$PATH"

before_script:
    - chmod +x ./Build/tests/travis-ci/setup-elkarte.sh
    - ./Build/tests/travis-ci/setup-elkarte.sh $DB $TRAVIS_PHP_VERSION

script: 
    - chmod +x /var/www/tests/travis-ci/setup-script.sh
    - /var/www/Build/tests/travis-ci/setup-script.sh $DB $TRAVIS_PHP_VERSION

after_script:
    - chmod +x /var/www/tests/travis-ci/setup-results.sh
    - /var/www/Build/tests/travis-ci/setup-results.sh $DB $TRAVIS_PHP_VERSION

after_failure:
    - chmod +x /var/www/tests/travis-ci/setup-failure.sh
    - /var/www/Build/tests/travis-ci/setup-failure.sh $DB $TRAVIS_PHP_VERSION